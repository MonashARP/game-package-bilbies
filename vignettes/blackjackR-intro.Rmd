---
title: "blackjack-intro"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{blackjackR-intro}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

## Introduction

The `blackjack` package provides tools to simulate the card game of Blackjack in R. It supports single and multiplayer modes, interactive or automated game, and dealer decision logic. 


## Installation

To install from source:

```r
devtools::install_github("MonashARP/game-package-bilbies", dependencies = TRUE)
```

## Function Overview and Examples 

The package includes several functions to facilitate the game:

### 1. `create_shuffled_deck()`

Creates a shuffled Blackjack shoe (default = 208 cards):

```r
deck <- create_shuffled_deck()
length(deck)
#> [1] 208
head(deck, 5)
#> [1] "J♦" "K♠" "5♥" "3♥" "7♦"
```

### 2. `deal_hand()`

Deals cards from the deck and updates it:  

```r
deal <- deal_hand(deck, 2)
deal$hand
#> [1] "J♦" "K♠"

 # update the deck
deck <- deal$deck 
length(deck)
#> [1] 206
```

### 3. `card_value()`

Calculates the score of a hand:

```r
hand <- c("A♣", "8♦")
card_value(hand)
#> [1] 19

card_value(c("A♣", "8♦", "5♠"))
#> [1] 14
```

### 4. `player_turn()`

Simulates a player's turn, allowing them to hit or stand:

```r
hand <- deal_hand(deck, 2)$hand
player_turn(hand, deck)
#> Your hand: 5♥ 3♥  (Total = 8 )
#> Prompts for "Hit (h) or stand (s)?" input in console
```

### 5. `auto_player_turn()`

Automatically draws cards until a threshold:

```r
hand <- deal_hand(deck, 2)$hand
result <- auto_player_turn(hand, deck, threshold = 17)
result$hand
#> [1] "5♥" "3♥" "5♥" "3♥" "7♦"
result$total
#> 23
```

### 6. `dealer_turn()`

Simulates the dealer's turn, following standard rules:

```r
hand <- deal_hand(deck, 2)$hand
result <- dealer_turn(hand, deck)
#> Dealer's hand: 5♥ 3♥ 5♥ 3♥ 7♦ Total: 23 
result$hand
#> [1] "5♥" "3♥" "5♥" "3♥" "7♦"
result$total
#> [1] 23
```

### 7. `dealer_turn_smart()`

Simulates the dealer's turn with a smart strategy, considering the player's hand:

```r
dealer_hand <- deal_hand(deck, 2)$hand
player_hand <- c("10♦", "8♣")  
dealer_turn_smart(dealer_hand, player_hand, deck)
#> returns list with final hand and total score
```

### 8. `play_blackjack()`

Simulates a full game of Blackjack, allowing for player and dealer turns:

```r
play_blackjack()
#> Dealer shows: 4♠ ?
#> Your hand: 2♣ 5♥  (Total = 7 )
#> Prompts for "Hit (h) or stand (s)?" input in console
#> Returns final hands and result
```

### 9. `play_blackjack_multi()`

Simulates a full round for multiple players vs the dealer:

```r
play_blackjack_multi(2)
#> Returns data frame of hands, scores, and results
```

### 10. `simulation_blackjack()`

Simulates multiple automated rounds of Blackjack: 

```r
simulation_blackjack(100)
#> Prompts for threshold
#> Returns table like:
#> Outcome
#> Lose Push  Win 
#>  47    4   49 
```

## Conclusion

The blackjack package enables users to simulate Blackjack games in R, supporting both interactive and automated gameplay. It offers tools for dealing cards, calculating scores, managing player and dealer turns, and running simulations. This makes it a practical and engaging tool for exploring Blackjack mechanics and strategies through code.

<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>blackjack_design • blackjack</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="blackjack_design">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">blackjack</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>blackjack_design</h1>
            
      

      <div class="d-none name"><code>blackjack-design.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://monasharp.github.io/game-package-bilbies">blackjack</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="blackjack-design">Blackjack Design<a class="anchor" aria-label="anchor" href="#blackjack-design"></a>
</h2>
<p>This vignette provides an overview of the design and structure of the
<code>blackjack</code> package, which simulates a game of blackjack. It
will help the user understand how the package is organized and how to
use its functions effectively.</p>
</div>
<div class="section level2">
<h2 id="package-function-name">Package function name:<a class="anchor" aria-label="anchor" href="#package-function-name"></a>
</h2>
<p>- <code><a href="../reference/play_blackjack.html">play_blackjack()</a></code>: This is the main function that
simulates a single player game of blackjack.</p>
<p>- <code><a href="../reference/play_blackjack_multi.html">play_blackjack_multi()</a></code>: This function simulates a
multi-player game of blackjack, allowing up to un limited number of
players to play against the dealer (the default setting is 2).</p>
<p>- <code><a href="../reference/simulation_blackjack.html">simulation_blackjack()</a></code>: This function simulates a game
of blackjack with a specified threshold the user want to stay at and the
number of round, returning the results of the simulation when the user
usually just stop hit when the total value of the hand is greater than
or equal to the threshold.</p>
<p>- <code><a href="../reference/deal_hand.html">deal_hand()</a></code>: This function deals a hand of cards (the
default is 2) to a player or dealer. It also check for whether the deck
has been used up 75% and reshuffles the deck if necessary.</p>
<p>- <code>create_shuffle_deck()</code>: This function creates shuffled
deck of cards (the default number of deck in a time is set to 4 which is
the same in casino) ## Function to interact with the card:</p>
<p>- <code><a href="../reference/card_value.html">card_value()</a></code>: This function returns the value of a
card, taking into account the special case of an Ace, which can be worth
1 or 11.</p>
<p>- <code><a href="../reference/card_name.html">card_name()</a></code>: This function returns the name of a card,
such as “Ace of Spades” or “10 of Hearts”.</p>
<p>- <code><a href="../reference/card_suit.html">card_suit()</a></code>: This function returns the suit of a card,
such as “Spades”, “Hearts”, “Diamonds”, or “Clubs”.</p>
<p>- <code><a href="../reference/card_rank.html">card_rank()</a></code>: This function returns the rank of a card,
such as “Ace”, “2”, “3”, …, “10”, “Jack”, “Queen”, or “King”.</p>
<p>- <code><a href="../reference/card_symbol.html">card_symbol()</a></code>: This function returns the symbol of a
card, such as “A”, “2”, “3”, …, “10”, “J”, “Q”, or “K”.</p>
<p>- <code><a href="../reference/card_is_face.html">card_is_face()</a></code>: This function checks if a card is a
face card (Jack, Queen, or King) and returns TRUE or FALSE.</p>
</div>
<div class="section level2">
<h2 id="arguments-for-the-functions">Arguments for the functions:<a class="anchor" aria-label="anchor" href="#arguments-for-the-functions"></a>
</h2>
<p>- <code><a href="../reference/play_blackjack.html">play_blackjack()</a></code> and
<code><a href="../reference/play_blackjack_multi.html">play_blackjack_multi()</a></code> are designed to be a more
user-interactive approach, therefore the argument for both single player
and multiplayer version have <code>input_fn</code> which is the input of
the user to decide whether to hit or stay. Normally if you just want to
enjoy the game, you dont need to worry about that but still you can have
fun messing around with this argument. For
<code><a href="../reference/play_blackjack_multi.html">play_blackjack_multi()</a></code>, you can also set the number of
players by using <code>n_players</code> argument, which is set to 2 by
default.</p>
<p>- <code><a href="../reference/simulation_blackjack.html">simulation_blackjack()</a></code> has <code>threshold</code> and
<code>n_rounds</code> arguments, which allow the user to set the
threshold for staying and the number of rounds to simulate. The default
threshold is set to 17, which is a common strategy in blackjack and the
default number of rounds is set to 1000.</p>
<p>- <code><a href="../reference/deal_hand.html">deal_hand()</a></code> has <code>deck</code> and
<code>n_cards</code> argument, which allow the user to specify the deck
of cards to use and the number of cards to deal. The default number of
cards is set to 2, which make it easy to deal a hand in blackjack
game.</p>
<p>- <code>create_shuffle_deck()</code> has <code>noOfDecks</code>
argument, which allows the user to specify the number of decks to use.
The default number of decks is set to 4, which is a common number of
decks used in blackjack games.</p>
</div>
<div class="section level2">
<h2 id="user-workflow">User workflow<a class="anchor" aria-label="anchor" href="#user-workflow"></a>
</h2>
<p>Here is how a user would play our game, step by step:</p>
<ol style="list-style-type: decimal">
<li><p>Choose either <code><a href="../reference/play_blackjack.html">play_blackjack()</a></code> or
<code><a href="../reference/play_blackjack_multi.html">play_blackjack_multi()</a></code> to start.</p></li>
<li><p>The game will show you this line
<code>Hit (h) or stand (s)?</code> which require you to input either
“hit” or “stand”, you can type in short key like “h” or “s”. Make your
decision according to dealer hand or your hand.</p></li>
<li><p>For <code>simulation_blackjack</code> it is more like a one time
run simulation, you can set the threshold and number of rounds to
simulate. The game will return the results of the simulation, including
the number of wins, losses, and push. You can then learn the probability
of winning based on the threshold you set.</p></li>
<li><p>You can also play by yourself by using
<code>create_shuffle_deck()</code> to create a shuffled deck of cards
and then use <code>deal_hand("your deck")</code> to deal a hand of cards
from that deck</p></li>
<li><p>You can now use <code><a href="../reference/card_value.html">card_value()</a></code> to check the current
score of the hand with ace handling feature</p></li>
<li><p>You can also use <code><a href="../reference/card_name.html">card_name()</a></code>,
<code><a href="../reference/card_suit.html">card_suit()</a></code>, <code><a href="../reference/card_rank.html">card_rank()</a></code>,
<code><a href="../reference/card_symbol.html">card_symbol()</a></code> and <code>card_is_face</code> to get more
information about the cards in the hand.</p></li>
</ol>
<p>We designed the game that allow the user to play blackjack in quick
pace or when in short of time where the game handle everything and the
user only need to decide hit or stand</p>
</div>
<div class="section level2">
<h2 id="use-of-internal-modular-functions">Use of internal modular functions<a class="anchor" aria-label="anchor" href="#use-of-internal-modular-functions"></a>
</h2>
<p>Like arguments mentioned above, <code><a href="../reference/play_blackjack.html">play_blackjack()</a></code> and
<code><a href="../reference/play_blackjack_multi.html">play_blackjack_multi()</a></code> include <code>input_fn</code>
argument which allow the user to put “fake input” to the game so the
user can technically play the game without the need to typing anything.
This is useful for testing or for creating automated scripts to play the
game. We also include the vector inside each cards itself which is
hidden to the user and only shown when the user is curious about the
card. However due to the nature fast pace of the game, it is not
possible for the user to check the card information inside the game. It
is recommend for the user to check the card information after the game
is over or when the user is not in the middle of the game.</p>
</div>
<div class="section level2">
<h2 id="use-of-non-standard-evaluation-nse">Use of Non-Standard Evaluation (NSE)<a class="anchor" aria-label="anchor" href="#use-of-non-standard-evaluation-nse"></a>
</h2>
<p>The package does not use Non-Standard Evaluation (NSE) in its
functions. All functions are designed to be straightforward and easy to
use, without the need for NSE.</p>
</div>
<div class="section level2">
<h2 id="limitations">Limitations<a class="anchor" aria-label="anchor" href="#limitations"></a>
</h2>
<p>While we have optimized the game for a quick and enjoyable
experience, we acknowledge that it is a simplified version of
blackjack.</p>
<ul>
<li><p>We are aware of the game’s biggest limitation compare to casino
blackjack, such as the fact that it does not include advanced features
like money, betting, splitting, or doubling down.</p></li>
<li><p>Single player and multiplayer version of the game seem to overlap
as you could techniquelly play single player with
<code>play_blackjack_multi(n_players = 1)</code> and we are aware that
it is not the best design choice, but we believe that it is still a good
starting point for users who want to play blackjack.</p></li>
<li><p>The game does not include advanced strategies or features like
card counting, which are often used by experienced players to gain an
advantage in blackjack.</p></li>
<li><p>A graphical user interface (GUI) or visual representation of the
cards would be normal for user but we dont have that, which may limit
the user experience for some players.</p></li>
<li><p>The game lack important features like a strategy table or guide
for players to follow, which may make it less accessible for beginners
who are unfamiliar with blackjack rules and strategies.</p></li>
<li><p>The game was designed to quick-pace so it is not suitable for
players who prefer a more leisurely or strategic approach to blackjack
where they would want to save the game or pause to look up the card
information.</p></li>
<li><p>The game was tested to make sure most functions work as intended,
but we acknowledge that there may be bugs or issues that we have not yet
discovered.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="use-of-ai-support">Use of AI support:<a class="anchor" aria-label="anchor" href="#use-of-ai-support"></a>
</h2>
<p>We used Chat GPT to suppport the creation of our game, help us to
debug and test the game, and to provide suggestions for improvement.
Here are some prompts we used:</p>
<ul>
<li><p>“Insert old C++ code which only accept Character”, why does this
C++ not work with my current game and cause my R to crash?</p></li>
<li><p>Should i define vector for cards when i generated the deck or
make it as a separate function that define the vector?</p></li>
<li><p>When using devtools::check(), I got an error that says “Error in
getDLLRegisteredDLLsRoutines.DLLInfo(dll, addNames = FALSE)” How do i
fix this?</p></li>
<li><p>Why does devtools::document() generate the RcppExports.R file in
both src and R folder, and what is the purpose of this file?</p></li>
<li><p>I current insert C++ code inside my deal_hand, but I get the
error: ‘Blackjack_score_hand_cpp’ not available for package ‘blackjack’.
What does this mean, i already have the C++ code in my package and run
devtools::document() to generate the RcppExports.R file, why does it not
work?</p></li>
<li><p>How do i used format() to format the vector of cards?</p></li>
</ul>
<p>We acknowledge that AI support has been a great help in the
development of our game, escpecially when we apply vctrs class and new
C++ code into the game. These answers have helped us to fix our code and
reduce the time require for debugging by a large margin. As a result, we
are able to optimize the game while improving the design of the game,
rather than spending time on debugging and testing.</p>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>Our game is designed to be a quick and enjoyable experience for users
who want to play blackjack in a short amount of time. We also develop
our game package compare to the previous one to:</p>
<ul>
<li><p>Store the card information in a vector, which allows for more
efficient handling of the cards and makes it easier to access the card
information.</p></li>
<li><p>Use C++ code to optimize the performance of the game. As we
believe <code><a href="../reference/deal_hand.html">deal_hand()</a></code> is the most used function in the game,
we optimize it to use C++ code to handle the card dealing process to
allows for faster and more efficient handling of the game
logic.</p></li>
<li><p>Write unit test to make sure that the game works as intended and
to catch any bugs or issues before they become a problem for
users.</p></li>
<li><p>We document our code to make it easier for users to understand
how the game works and how to use its functions effectively. We also
provide examples and explanations of how to use the package, which will
help users get started quickly.</p></li>
<li><p>We also provide a vignette to help users understand the design
and structure of the package, which will help them use the package
effectively.</p></li>
<li><p>The limitation and AI usage section are included to provide
transparency about the package’s capabilities and limitations, as well
as to acknowledge the role of AI in our game development
process.</p></li>
</ul>
<p>We hope that this package will provide a fun and engaging experience
for users who want to play blackjack in R.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andy Tran, Yiran Yao, Rong Xu.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
